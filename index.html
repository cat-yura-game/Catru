<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tison Cat Ai — Quiz with Images</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#05000c;
    --bg2:#0b0130;
    --neon1:#00eaff;
    --neon2:#ff00cc;
  }

  body{
    margin:0;padding:0;height:100vh;
    background:linear-gradient(180deg,var(--bg1),var(--bg2));
    font-family:'Orbitron',sans-serif;
    color:#eaffff;
    overflow:hidden;
  }

  .app{
    max-width:420px;margin:0 auto;height:100%;
    position:relative;padding:20px;
  }

  h1{
    text-align:center;
    text-shadow:0 0 12px var(--neon1);
  }

  .select-box{
    display:flex;flex-direction:column;gap:12px;
    margin-top:40px;
  }

  .btn{
    padding:15px;border-radius:12px;
    background:rgba(255,255,255,0.06);
    border:1px solid rgba(255,255,255,0.1);
    color:#eaffff;
    font-weight:700;
    cursor:pointer;
    text-align:center;
  }

  .btn:hover{
    box-shadow:0 0 12px var(--neon1);
  }

  #quizBox, #resultBox{ display:none; }

  .question{
    font-size:1.1rem;
    margin-bottom:20px;
  }

  .imgBox{
    width:100%;
    height:260px;
    border-radius:16px;
    overflow:hidden;
    margin-bottom:18px;
    border:2px solid rgba(255,255,255,0.1);
    box-shadow:0 0 12px rgba(0,255,255,0.3);
  }

  .imgBox img{
    width:100%;height:100%;object-fit:cover;
  }

  .options{
    display:flex;flex-direction:column;
    gap:12px;margin-top:auto;
  }

  footer{
    position:absolute;bottom:20px;left:20px;right:20px;
    display:flex;justify-content:space-between;align-items:center;
    color:#cfffff;
  }

  .progress{
    flex:1;height:8px;background:rgba(255,255,255,0.1);
    overflow:hidden;border-radius:6px;margin-right:12px;
  }

  .progress i{
    display:block;height:100%;width:0%;
    background:linear-gradient(90deg,var(--neon1),var(--neon2));
    transition:.4s;
  }

  .correct{
    outline:2px solid #7cff6b;
    box-shadow:0 0 12px #7cff6b;
  }
  .wrong{
    outline:2px solid #ff0088;
    box-shadow:0 0 12px #ff0088;
  }
</style>
</head>
<body>

<div class="app">
  
  <div id="selectBox">
    <h1>Выбери количество вопросов</h1>
    <div class="select-box">
      <div class="btn" onclick="startQuiz(5)">5 вопросов</div>
      <div class="btn" onclick="startQuiz(10)">10 вопросов</div>
      <div class="btn" onclick="startQuiz(20)">20 вопросов</div>
      <div class="btn" onclick="startQuiz(30)">30 вопросов</div>
    </div>
  </div>

  <div id="quizBox">
    <div class="imgBox"><img id="qImg"></div>
    <div class="question" id="question"></div>
    <div class="options" id="options"></div>
  </div>

  <div id="resultBox">
    <h1 id="resTitle"></h1>
    <p id="resText"></p>
  </div>

  <footer>
    <div class="progress"><i id="progressBar"></i></div>
    <div id="scoreTxt"></div>
  </footer>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

// ======== БАЗА ВОПРОСОВ С КАРТИНКАМИ ========
const allQuestions = [
  {
    q:"Как называется этот пост?",
    img:"https://i.imgur.com/ZpAqT9W.jpeg",
    a:["Киберкот на улице","Тайсон в мегаполисе","Лазерный рывок"],
    correct:
