<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tison Cat Ai â€” Quiz WebApp</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#05000c;
    --bg2:#0b0130;
    --neon1:#00eaff;
    --neon2:#ff00cc;
    --accent:#7cff6b;
  }

  html,body{
    margin:0;padding:0;
    height:100%;
    font-family:'Orbitron',sans-serif;
    background:var(--bg1);
    overflow:hidden;
  }

  .app{
    width:100%;
    max-width:420px;
    margin:0 auto;
    height:100%;
    aspect-ratio:9/16;
    position:relative;
    background:linear-gradient(180deg,var(--bg1),var(--bg2));
    border-radius:16px;
    overflow:hidden;
    border:1px solid rgba(255,255,255,0.06);
  }

  .neon-grid{
    position:absolute;inset:0;pointer-events:none;
    background:
      linear-gradient(90deg,rgba(255,255,255,0.05) 1px,transparent 1px),
      linear-gradient(180deg,rgba(255,255,255,0.05) 1px,transparent 1px);
    background-size:70px 70px;
    opacity:0.05;
  }

  header{
    padding:22px 10px 10px;
    color:var(--neon1);
    font-size:1.2rem;
    text-align:center;
    text-shadow:0 0 12px var(--neon1);
  }

  main{
    position:absolute;
    left:14px;right:14px;
    top:80px;bottom:70px;
    background:rgba(255,255,255,0.03);
    border-radius:14px;
    backdrop-filter:blur(4px);
    padding:16px;
    display:flex;flex-direction:column;
  }

  .question{
    color:#fff;
    font-size:1.05rem;
    line-height:1.4;
    margin-bottom:20px;
  }

  .options{
    display:flex;
    flex-direction:column;
    gap:12px;
    margin-top:auto;
  }

  .btn{
    padding:14px;
    color:#e7ffff;
    background:rgba(255,255,255,0.05);
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.06);
    cursor:pointer;
    font-weight:700;
    transition:.15s;
  }

  .btn.correct{
    outline:2px solid rgba(124,255,107,0.5);
    box-shadow:0 0 15px rgba(124,255,107,0.5);
  }

  .btn.wrong{
    outline:2px solid rgba(255,0,128,0.5);
    box-shadow:0 0 15px rgba(255,0,128,0.5);
  }

  footer{
    position:absolute;left:14px;right:14px;bottom:14px;
    display:flex;justify-content:space-between;align-items:center;
    color:#cfffff;font-size:0.85rem;
  }

  .progress{
    flex:1;
    background:rgba(255,255,255,0.05);
    height:8px;border-radius:6px;
    margin-right:12px;overflow:hidden;
  }
  .progress i{
    display:block;height:100%;
    background:linear-gradient(90deg,var(--neon1),var(--neon2));
    width:0%;transition:.4s;
  }

  .result{
    display:none;margin:auto;text-align:center;
    flex-direction:column;gap:12px;
  }
  .result h2{
    color:var(--neon2);
    text-shadow:0 0 12px var(--neon2);
  }
</style>
</head>

<body>
<div class="app">
  <div class="neon-grid"></div>

  <header>Ð’Ð¸ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð° Tison Cat Ai</header>

  <main id="main">
    <div id="quiz">
      <div class="question" id="question">Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...</div>
      <div class="options" id="options"></div>
    </div>

    <div class="result" id="result">
      <h2 id="resTitle"></h2>
      <p id="resText" style="color:#e1ffff;"></p>
    </div>
  </main>

  <footer>
    <div class="progress"><i id="progressBar"></i></div>
    <div id="scoreTxt">0 / 30</div>
  </footer>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

// 30 Ð½Ð¾Ð²Ñ‹Ñ… Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²
const questions = [
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ð¼Ð°ÑÐºÐ¾Ñ‚ Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð°Ñ‚Ð¼Ð¾ÑÑ„ÐµÑ€Ñƒ ÐºÐ°Ð½Ð°Ð»Ð°?", a:["ÐšÐ¾Ñ‚ Ð¢Ð°Ð¹ÑÐ¾Ð½","ÐšÐ¸Ð±ÐµÑ€Ð¿Ð¸Ð½Ð³Ð²Ð¸Ð½","ÐŸÐµÑ ÐÑ€Ñ‡Ð¸"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ‚Ð¸Ð»ÑŒ Ð±Ð»Ð¸Ð¶Ðµ Ðº Ð°Ñ‚Ð¼Ð¾ÑÑ„ÐµÑ€Ðµ ÐºÐ°Ð½Ð°Ð»Ð°?", a:["ÐÐµÐ¾Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ¸Ð±ÐµÑ€ÑÑ‚Ð¸Ð»ÑŒ","ÐœÑƒÐ»ÑŒÑ‚ÑÑˆÐ½Ñ‹Ð¹ ÑÑ‚Ð¸Ð¼Ð¿Ð°Ð½Ðº","Ð’Ð¸Ð½Ñ‚Ð°Ð¶ Ñ€ÐµÑ‚Ñ€Ð¾"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ñ‡Ð°Ñ‰Ðµ Ð²ÑÐµÐ³Ð¾ Ð¿ÑƒÐ±Ð»Ð¸ÐºÑƒÐµÑ‚ÑÑ Ð½Ð° ÐºÐ°Ð½Ð°Ð»Ðµ?", a:["AI-Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ","ÐšÑƒÐ»Ð¸Ð½Ð°Ñ€Ð½Ñ‹Ðµ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ñ‹","Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ðµ Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ¸"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ð¾Ð±Ñ€Ð°Ð· Ð¢Ð°Ð¹ÑÐ¾Ð½Ð° Ð»ÑƒÑ‡ÑˆÐµ Ð¾Ñ‚Ñ€Ð°Ð¶Ð°ÐµÑ‚ Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÑƒ?", a:["ÐšÐ¸Ð±ÐµÑ€ÐºÐ¾Ñ‚","Ð”Ð¾Ð¼Ð°ÑˆÐ½Ð¸Ð¹ Ð´Ð²Ð¾Ñ€Ð¾Ð²Ñ‹Ð¹","ÐŸÐ¸Ñ€Ð°Ñ‚"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾Ð´ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ ÐºÐ°Ð½Ð°Ð»Ð°?", a:["Ð®Ð¼Ð¾Ñ€ + Ð½ÐµÐ¾Ð½","Ð”ÐµÐ»Ð¾Ð²Ñ‹Ðµ ÑÐ²Ð¾Ð´ÐºÐ¸","ÐœÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ðµ Ð¾Ð±Ð·Ð¾Ñ€Ñ‹"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ñ‡Ð°Ñ‰Ðµ Ð²ÑÐµÐ³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¹?", a:["ÐÐµÐ¹Ñ€Ð¾ÑÐµÑ‚Ð¸","ÐœÐ°ÑÐ»ÑÐ½Ñ‹Ðµ ÐºÑ€Ð°ÑÐºÐ¸","Ð›Ð¸Ð½Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ñ‚ÐµÑ‚Ñ€Ð°Ð´ÑŒ"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ð²Ð°Ð¹Ð± Ð°ÑÑÐ¾Ñ†Ð¸Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ñ Ð¢Ð°Ð¹ÑÐ¾Ð½Ð¾Ð¼?", a:["ÐšÐ¸Ð±ÐµÑ€Ð¿Ð°Ð½Ðº","Ð¡Ñ€ÐµÐ´Ð½ÐµÐ²ÐµÐºÐ¾Ð²ÑŒÐµ","ÐÐ²Ð°Ð½Ð³Ð°Ñ€Ð´"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ñ‚Ð¸Ð¿ Ð¼ÐµÐ¼Ð¾Ð² Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ ÐºÐ°Ð½Ð°Ð»Ñƒ?", a:["ÐŸÑ€Ð¾ AI Ð¸ ÐºÐ¾Ñ‚Ð¾Ð²","ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ","ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð° Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚?", a:["ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ðµ Ð¿Ð¾ÑÑ‚Ñ‹","Ð§Ð°ÑÐ¾Ð²Ñ‹Ðµ Ð»Ð¾Ð½Ð³Ñ€Ð¸Ð´Ñ‹","ÐÐºÐ°Ð´ÐµÐ¼Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÑ‚Ð°Ñ‚ÑŒÐ¸"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ñ†Ð²ÐµÑ‚ Ñ‡Ð°Ñ‰Ðµ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð°ÐµÑ‚ÑÑ Ð² Ð´Ð¸Ð·Ð°Ð¹Ð½Ðµ?", a:["Ð‘Ð¸Ñ€ÑŽÐ·Ð¾Ð²Ñ‹Ð¹","Ð¡ÐµÑ€Ñ‹Ð¹","ÐšÐ¾Ñ€Ð¸Ñ‡Ð½ÐµÐ²Ñ‹Ð¹"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ð¢Ð°Ð¹ÑÐ¾Ð½ Ð¼Ð¾Ð³ Ð±Ñ‹ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð² Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ð¾Ð¼ Ð¼Ð¸Ñ€Ðµ?", a:["Ð›Ð°Ð·ÐµÑ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´","Ð¡Ð°Ð¶Ð°Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ð¾ÑˆÐºÑƒ","Ð”ÑƒÑ‚ÑŒ Ð½Ð° Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ð¾Ð½"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ð»ÑƒÑ‡ÑˆÐµ Ð²ÑÐµÐ³Ð¾ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ ÑÑ‚Ð¸Ð»ÑŒ ÐºÐ°Ð½Ð°Ð»Ð°?", a:["Ð¤ÑƒÑ‚ÑƒÑ€Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¹","Ð ÐµÑ‚Ñ€Ð¾","Ð“Ð¾Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð² Ð¾Ð±Ñ€Ð°Ð·Ðµ Ð¢Ð°Ð¹ÑÐ¾Ð½Ð°?", a:["ÐšÐ¸Ð±ÐµÑ€-Ñ…Ð°Ñ€Ð¸Ð·Ð¼Ð°","Ð¥Ð²Ð¾ÑÑ‚","Ð›Ð°Ð¿Ñ‹"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ð´Ð¾Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚?", a:["AI-Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸","Ð¡Ð¿Ð¸ÑÐºÐ¸ Ð¿Ð¾ÐºÑƒÐ¿Ð¾Ðº","Ð¡ÐºÐ°Ð½ Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚Ð°"], correct:0 },
  { q:"ÐšÐ¾Ð³Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒ Ð² Ð¿Ð¾ÑÑ‚Ð°Ñ…?", a:["Ð¦Ð¸Ñ„Ñ€Ð¾Ð²Ð¾Ð³Ð¾ ÐºÐ¾Ñ‚Ð°","ÐžÐ²Ñ†Ñƒ","Ð“Ð¾Ð»ÑƒÐ±Ñ"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ñ‚Ð¸Ð¿ ÑŽÐ¼Ð¾Ñ€Ð° Ð¿Ñ€ÐµÐ¾Ð±Ð»Ð°Ð´Ð°ÐµÑ‚?", a:["Ð›ÐµÐ³ÐºÐ¸Ð¹ Ð¸ Ð¼ÐµÐ¼Ð½Ñ‹Ð¹","ÐžÑ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹","Ð¡Ð°Ñ€ÐºÐ°ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¾Ð½ Ð´Ð»Ñ Ð¿Ð¾ÑÑ‚Ð°?", a:["ÐÐµÐ¾Ð½Ð¾Ð²Ñ‹Ð¹ Ð³Ð¾Ñ€Ð¾Ð´","Ð¡Ð°Ñ€Ð°Ð¹","ÐŸÐ»ÑÐ¶"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ð¼Ð¾Ð³ Ð±Ñ‹ Ð½Ð¾ÑÐ¸Ñ‚ÑŒ Ð¢Ð°Ð¹ÑÐ¾Ð½?", a:["ÐšÐ¸Ð±ÐµÑ€Ð¾Ñ‡ÐºÐ¸","Ð¨Ð°Ð¿ÐºÑƒ-ÑƒÑˆÐ°Ð½ÐºÑƒ","ÐŸÐ°Ð½Ð°Ð¼Ñƒ"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ ÑÐ¸Ð¼Ð²Ð¾Ð» ÐºÐ°Ð½Ð°Ð»Ð°?", a:["ÐšÐ¾Ñ‚ Ð² ÑÑ‚Ð¸Ð»Ðµ AI","Ð”ÐµÑ€ÐµÐ²Ð¾","Ð¤Ð¸Ð³ÑƒÑ€Ð° Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ°"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„Ð¾ÐºÑƒÑ ÐºÐ°Ð½Ð°Ð»Ð°?", a:["AI-ÐºÑ€ÐµÐ°Ñ‚Ð¸Ð²","Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ","Ð¡Ð¿Ð¾Ñ€Ñ‚"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ñ†ÐµÐ½ÑÑ‚ Ð·Ñ€Ð¸Ñ‚ÐµÐ»Ð¸ ÐºÐ°Ð½Ð°Ð»Ð°?", a:["Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ AI Ð¾Ð±Ñ€Ð°Ð·Ñ‹","Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð°Ð»Ð¾Ð³Ð¾Ð²Ð¾Ð¹","Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ Ñ‚Ð¾Ñ€Ð³Ð¾Ð²"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚?", a:["ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ðµ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð²ÑÑ‚Ð°Ð²ÐºÐ¸","Ð ÐµÑ„ÐµÑ€Ð°Ñ‚Ñ‹","ÐžÑ‚Ñ‡Ñ‘Ñ‚Ñ‹"], correct:0 },
  { q:"ÐšÑ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ð¹ Ð¢Ð°Ð¹ÑÐ¾Ð½?", a:["Ð¦Ð¸Ñ„Ñ€Ð¾Ð²Ð¾Ð¹ ÐºÐ¾Ñ‚","Ð¥Ð¾Ð¼ÑÐº","Ð Ñ‹Ð±Ð°"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ð°Ð½Ñ‚ÑƒÑ€Ð°Ð¶ ÐµÐ¼Ñƒ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚?", a:["ÐšÐ¸Ð±ÐµÑ€Ð¿Ð°Ð½Ðº","Ð¤ÑÐ½Ñ‚ÐµÐ·Ð¸","Ð¡Ñ€ÐµÐ´Ð½ÐµÐ²ÐµÐºÐ¾Ð²ÑŒÐµ"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ Ð°Ñ‚Ð¼Ð¾ÑÑ„ÐµÑ€Ñƒ?", a:["ÐÐµÐ¾Ð½","Ð”ÐµÑ€ÐµÐ²Ð¾","Ð“Ñ€ÑƒÐ½Ñ‚"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ð¼Ð¾Ð³ Ð±Ñ‹ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð¢Ð°Ð¹ÑÐ¾Ð½ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ¼?", a:["Ð’Ð·Ð»Ð°Ð¼Ñ‹Ð²Ð°Ñ‚ÑŒ Ð»Ð°Ð·ÐµÑ€Ñ‹","ÐŸÐ¸ÑÐ°Ñ‚ÑŒ Ð¿ÐµÑ€Ð¾Ð¼","Ð Ñ‹Ð±Ð°Ñ‡Ð¸Ñ‚ÑŒ"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ†Ð²ÐµÑ‚Ð¾Ð²Ð¾Ð¹ Ñ‚Ð¾Ð½?", a:["Ð¥Ð¾Ð»Ð¾Ð´Ð½Ñ‹Ð¹","Ð¢Ñ‘Ð¿Ð»Ñ‹Ð¹","ÐŸÐ°ÑÑ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹"], correct:0 },
  { q:"Ð§Ñ‚Ð¾ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ñ?", a:["Ð“Ð»Ð¸Ñ‚Ñ‡-ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹","Ð¦Ð²ÐµÑ‚Ð¾Ñ‡ÐºÐ¸","Ð¡Ð¼Ð°Ð¹Ð»Ð¸ÐºÐ¸"], correct:0 },
  { q:"ÐšÐ°ÐºÐ¾Ð¹ Ñ‚ÐµÐ¼Ð¿ Ð¿Ð¾Ð´Ð°Ñ‡Ð¸?", a:["Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð¸ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡Ð½Ñ‹Ð¹","ÐœÐµÐ´Ð»ÐµÐ½Ð½Ñ‹Ð¹","ÐœÐ¾Ð½Ð¾Ñ‚Ð¾Ð½Ð½Ñ‹Ð¹"], correct:0 },
  { q:"ÐšÐ°ÐºÑƒÑŽ ÑÐ¼Ð¾Ñ†Ð¸ÑŽ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¢Ð°Ð¹ÑÐ¾Ð½?", a:["Ð£Ð»Ñ‹Ð±ÐºÑƒ","Ð¥Ð¾Ð»Ð¾Ð´","Ð—Ð»Ð¾ÑÑ‚ÑŒ"], correct:0 }
];

let current=0, score=0;

const qEl = document.getElementById("question");
const optEl = document.getElementById("options");
const scoreTxt = document.getElementById("scoreTxt");
const pb = document.getElementById("progressBar");
const res = document.getElementById("result");
const quiz = document.getElementById("quiz");
const resTitle = document.getElementById("resTitle");
const resText = document.getElementById("resText");

// ÐŸÐµÑ€ÐµÐ¼ÐµÑˆÐ¸Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð°ÑÑÐ¸Ð²Ð°
function shuffle(array){
  return array.sort(()=>Math.random()-0.5);
}

function render(){
  const item = questions[current];

  const answers = item.a.map((t,i)=>({text:t,i}));
  const shuffled = shuffle([...answers]);

  qEl.innerHTML = `Ð’Ð¾Ð¿Ñ€Ð¾Ñ ${current+1}. ${item.q}`;

  optEl.innerHTML = "";
  shuffled.forEach(ans=>{
    const b=document.createElement("button");
    b.className="btn";
    b.textContent=ans.text;
    b.dataset.correct = (ans.i === item.correct ? "1" : "0");
    b.onclick = choose;
    optEl.appendChild(b);
  });

  pb.style.width = (current / questions.length * 100) + "%";
  scoreTxt.textContent = `${score} / ${questions.length}`;
}

function choose(e){
  const isCorrect = e.target.dataset.correct === "1";
  const buttons = [...optEl.children];

  buttons.forEach(b=>{
    b.onclick = null;
    if(b.dataset.correct==="1") b.classList.add("correct");
  });

  if(!isCorrect) e.target.classList.add("wrong");
  else score++;

  scoreTxt.textContent = `${score} / ${questions.length}`;

  setTimeout(()=>{
    current++;
    if(current>=questions.length) finish();
    else render();
  },700);
}

function finish(){
  quiz.style.display="none";
  res.style.display="flex";

  resTitle.textContent = `Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚: ${score} Ð¸Ð· ${questions.length}`;
  resText.textContent =
    score===30 ? "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚!" :
    score>=20 ? "ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°!" :
    score>=10 ? "ÐÐµÐ¿Ð»Ð¾Ñ…Ð¾! ÐœÐ¾Ð¶Ð½Ð¾ Ð»ÑƒÑ‡ÑˆÐµ!" :
    "Ð¢Ð°Ð¹ÑÐ¾Ð½ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÑ‚ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÐµÑ‰Ñ‘ ðŸ˜¼";

  pb.style.width="100%";

  tg.MainButton.setText("ÐŸÑ€Ð¾Ð¹Ñ‚Ð¸ ÑÐ½Ð¾Ð²Ð°");
  tg.MainButton.show();
  tg.MainButton.onClick(()=>{
    current=0; score=0;
    res.style.display="none";
    quiz.style.display="block";
    tg.MainButton.hide();
    render();
  });
}

render();
</script>

</body>
</html>
